{"version":3,"sources":["assets/cores/UISuperItem - 001.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UISuperLayout, { UISuperAxis } from './UISuperLayout';\nconst { ccclass, property } = cc._decorator;\nconst EPSILON = 1e-4;\n@ccclass\nexport default class UISpuerItem extends cc.Component {\n    private layout: UISuperLayout\n    private refreshItemCallback: Function\n    onLoad() {\n        this.node['init'] = this.init.bind(this)\n        this.node['watchBrother'] = this.watchBrother.bind(this)\n        let widget = this.node.getComponent(cc.Widget)\n        if (widget) {\n            cc.warn(\"UISuperItem: item不允许挂cc.Widget组件 请手动移除\")\n            this.node.removeComponent(widget)\n        }\n        this.node.on(cc.Node.EventType.POSITION_CHANGED, this.resetScrollView, this)\n        this.node.on(cc.Node.EventType.SCALE_CHANGED, this.resetScrollView, this)\n        this.node.on(cc.Node.EventType.SIZE_CHANGED, this.resetScrollView, this)\n    }\n    private resetScrollView() {\n        this.isFooter && this.layout.resetScrollView()\n        if(this.node['index']==7){\n            cc.error(\"zindex\", this.node.getSiblingIndex(), \"值\", this.node['index'], \"我的位置改变\", this.node.y)\n        }\n    }\n    public init(layout: UISuperLayout, refreshItemCallback: Function) {\n        this.layout = layout\n        this.refreshItemCallback = refreshItemCallback\n        this.refreshSize()\n    }\n    public refreshSize() {\n        let size = cc.Size.ZERO\n        size.width = this.reallyWidth\n        size.height = this.reallyHeight\n        this.node.setContentSize(size)\n    }\n    private get reallyWidth() {\n        if (this.layout.vertical) {\n            return (this.layout.accommodWidth - this.layout.spacingWidth) / this.layout.column\n        } else {\n            return this.node.width * this.layout.getUsedScaleValue(this.node.scaleX)\n        }\n    }\n    private get reallyHeight() {\n        if (this.layout.horizontal) {\n            return this.layout.accommodHeight / this.layout.column\n        } else {\n            return this.node.height * this.layout.getUsedScaleValue(this.node.scaleY)\n        }\n    }\n    private get width() {\n        return this.node.width * this.layout.getUsedScaleValue(this.node.scaleX)\n    }\n    private get height() {\n        return this.node.height * this.layout.getUsedScaleValue(this.node.scaleY)\n    }\n    private get isHeader() {\n        return this.node.getSiblingIndex() == 0\n    }\n    private get isFooter() {\n        return this.node.getSiblingIndex() == this.layout.node.childrenCount - 1\n    }\n    private get isUpdateHeader() {\n        if (this.layout.vertical && this.layout.scrollView.deltaMove.y > 0 && this.isHeader) {\n            return true\n        }\n        if (this.layout.horizontal && this.layout.scrollView.deltaMove.x < 0 && this.isHeader) {\n            return true\n        }\n        return false\n    }\n    private get isUpdateFooter() {\n        if (this.layout.vertical && this.layout.scrollView.deltaMove.y < 0 && this.isFooter) {\n            return true\n        }\n        if (this.layout.horizontal && this.layout.scrollView.deltaMove.x > 0 && this.isFooter) {\n            return true\n        }\n        return false\n    }\n\n    private isOutOfBoundary(offset: cc.Vec2) {\n        if (this.layout.vertical && offset.y == 0) {\n            return true\n        }\n        if (this.layout.horizontal && offset.x == 0) {\n            return true\n        }\n        return false\n    }\n\n    private relativePositionFooter(prevNode: cc.Node) {\n        if (prevNode) {\n            if (this.layout.vertical) {\n                let offset = cc.Vec2.ZERO\n                if (this.layout.isGroupFooter(prevNode)) {\n                    offset.x = this.layout.getGroupHeader(this.node).x\n                    offset.y = this.layout.getGroupBottomY(this.node, prevNode)\n                } else {\n                    offset.x = this.layout.getGroupRightX(this.node, prevNode)\n                    offset.y = prevNode.y\n                }\n                this.node.setPosition(offset)\n            } else if (this.layout.horizontal) {\n                let prevWidth = prevNode.width * this.layout.getUsedScaleValue(prevNode.scaleX)\n                let offset = prevNode.x + (prevWidth * (1 - prevNode.anchorX)) + (this.width * this.node.anchorX) + this.layout.spacing.x\n                this.node.x = offset\n            }\n        }\n    }\n    private relativePositionHeader(prevNode: cc.Node) {\n        if (prevNode) {\n            if (this.layout.vertical) {\n                let offset = cc.Vec2.ZERO\n\n                if (this.layout.isGroupHeader(prevNode)) {\n                    if(this.node['index']==7){\n                        cc.error(\"prevNode\",prevNode['index'])\n                    }\n                    offset.x = this.layout.getGroupFooter(this.node).x\n                    offset.y = this.layout.getGroupTopY(this.node, prevNode)\n                } else {\n                    if(this.node['index']==7){\n                        cc.error(\"这里22\")\n                    }\n                    offset.x = this.layout.getGroupLeftX(this.node, prevNode)\n                    offset.y = prevNode.y\n                }\n                // if (this.node['index'] == 0) {\n                //     offset.x = this.layout.getGroupHeader(this.node).x\n                // }\n                this.node.setPosition(offset)\n            } else if (this.layout.horizontal) {\n                let prevWidth = prevNode.width * this.layout.getUsedScaleValue(prevNode.scaleX)\n                let offset = prevNode.x - (prevWidth * prevNode.anchorX) - (this.width * (1 - this.node.anchorX)) - this.layout.spacing.x\n                this.node.x = offset\n            }\n        }\n    }\n    // 设置自己相对于上一个兄弟节点的位置\n    public watchBrother() {\n        let prevIndex = this.node.getSiblingIndex() - 1\n        let prevNode = this.node.parent.children[prevIndex]\n        if (this.layout.headerToFooter) {\n            this.relativePositionFooter(prevNode)\n        } else {\n            this.relativePositionHeader(prevNode)\n        }\n    }\n    public watchSelf() {\n        // 向下填充\n        if (this.isUpdateHeader) {\n            let footer = this.layout.footer\n            let index = footer['index'] + 1\n            if (index == this.layout.maxItemTotal) return\n            let offset = this.layout.isOutOfBoundaryHeader(this.node)\n            if (this.isOutOfBoundary(offset)) {\n                this.node['index'] = index\n                this.refreshItemCallback(this.node, index)\n                this.relativePositionFooter(footer)\n                this.node.setSiblingIndex(this.layout.node.childrenCount - 1)\n                cc.error(\"向下填充\")\n            }\n        }\n        // 向上填充\n        if (this.isUpdateFooter) {\n            let header = this.layout.header\n            let index = header['index'] - 1\n            if (index == -1) return\n            let offset = this.layout.isOutOfBoundaryFooter(this.node)\n            if (this.isOutOfBoundary(offset)) {\n                this.node['index'] = index\n                this.node.setSiblingIndex(0)\n                this.refreshItemCallback(this.node, index)\n                this.relativePositionHeader(header)\n                cc.error(\"向上填充\")\n            }\n        }\n    }\n    update(dt) {\n        this.watchSelf()\n        // this.watchBrother()\n    }\n}\n"]}