{"version":3,"sources":["assets/cores/UISuperLayout.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UISpuerScrollView from './UISuperScrollView';\nimport UISpuerItem from './UISuperItem';\nconst { ccclass, property, menu } = cc._decorator;\nconst EPSILON = 1e-4;\nexport const UIChangeBrotherEvnet = \"UIChangeBrotherEvnet\"\nexport enum UISuperAxis {\n    HORIZONTAL = 0,\n    VERTICAL = 1\n}\nexport enum UISuperDirection {\n    HEADER_TO_FOOTER = 0,\n    FOOTER_TO_HEADER = 1,\n}\n@ccclass\n@menu(\"UISuperLayout\")\nexport default class UISuperLayout extends cc.Component {\n    @property({ type: cc.Enum(UISuperAxis), displayName: \"排列方向\" }) startAxis: UISuperAxis = UISuperAxis.VERTICAL\n    @property({ type: cc.Enum(UISuperDirection), displayName: \"排列子节点的方向\" }) direction: UISuperDirection = UISuperDirection.HEADER_TO_FOOTER\n    @property({ displayName: \"上边距\" }) paddingTop: number = 0\n    @property({ displayName: \"下边距\" }) paddingBottom: number = 0\n    @property({ displayName: \"左边距\" }) paddingLeft: number = 0\n    @property({ displayName: \"右边距\" }) paddingRight: number = 0\n    @property({ displayName: \"间隔\" }) spacing: cc.Vec2 = cc.Vec2.ZERO\n    @property({ displayName: \"每组item个数\", tooltip: \"单行的列数 或 单列的行数\" }) column: number = 2\n    @property({ displayName: \"item创建倍率\", tooltip: \"相对于view的尺寸 默认2倍\" }) multiple: number = 2\n    @property({ type: cc.Prefab, displayName: \"item Prefab\" }) prefab: cc.Prefab = null\n    @property({ displayName: \"头部滑动循环\" }) headerLoop: boolean = false\n    @property({ displayName: \"尾部滑动循环\" }) footerLoop: boolean = false\n    @property affectedByScale: boolean = true\n    @property(cc.Component.EventHandler) refreshItemEvents: cc.Component.EventHandler[] = []\n    private _gener: Generator\n    private _isinited: boolean = false\n    private _maxPrefabTotal: number = 0\n    private _children: cc.Node[] = [] //和this.node.children 保持同步\n    private _viewSize: cc.Size\n    private _scrollView: UISpuerScrollView = null\n    private _maxItemTotal: number = 0\n    private _prevLayoutPosition: cc.Vec2 = cc.Vec2.ZERO\n    public scrollToHeaderOrFooter: boolean = false\n    private get layoutDirection(): cc.Vec2 {\n        let pos = cc.Vec2.ZERO\n        if (this.vertical) {\n            pos.y = this.node.y - this._prevLayoutPosition.y\n        } else {\n            pos.x = this.node.x - this._prevLayoutPosition.x\n        }\n        this._prevLayoutPosition = this.node.getPosition()\n        return pos\n    }\n    private get isScrollToFooter(): boolean {\n        if (this.vertical) {\n            return this.layoutDirection.y < 0\n        } else {\n            return this.layoutDirection.x > 0\n        }\n    }\n    public get children() { return this._children }\n    public get maxItemTotal() { return this._maxItemTotal }\n    public get maxPrefabTotal() { return this._maxPrefabTotal }\n    public get viewSize(): cc.Size {\n        if (!this._viewSize) this._viewSize = this.scrollView.view.getContentSize()\n        return this._viewSize\n    }\n    public get vertical(): boolean {\n        return this.startAxis == UISuperAxis.VERTICAL\n    }\n    public get horizontal(): boolean {\n        return this.startAxis == UISuperAxis.HORIZONTAL\n    }\n    public get headerToFooter(): boolean {\n        return this.direction == UISuperDirection.HEADER_TO_FOOTER\n    }\n    public get footerToHeader(): boolean {\n        return this.direction == UISuperDirection.FOOTER_TO_HEADER\n    }\n    public get spacingWidth() {\n        return this.spacing.x * (this.column - 1)\n    }\n    public get spacingHeight() {\n        return this.spacing.y * (this.column - 1)\n    }\n    public get accommodWidth() {\n        return this.viewSize.width - this.paddingLeft - this.paddingRight\n    }\n    public get accommodHeight() {\n        return this.viewSize.height - this.paddingTop - this.paddingBottom\n    }\n    public get scrollView(): UISpuerScrollView {\n        if (!this._scrollView) this._scrollView = this.node.parent.parent.getComponent(UISpuerScrollView)\n        return this._scrollView\n    }\n\n    public get header(): cc.Node {\n        return this._children[0]\n    }\n    public get footer(): cc.Node {\n        return this._children[this._children.length - 1]\n    }\n    public get topBoundary() {\n        if (this.headerToFooter) {\n            return this.headerBoundaryY + this.paddingTop\n        } else {\n            return this.footerBoundaryY + this.paddingTop\n        }\n    }\n    public get bottomBoundary() {\n        if (this.headerToFooter) {\n            return this.footerBoundaryY - this.paddingBottom\n        } else {\n            return this.headerBoundaryY - this.paddingBottom\n        }\n    }\n    public get leftBoundary() {\n        if (this.headerToFooter) {\n            return this.headerBoundaryX - this.paddingLeft\n        } else {\n            return this.footerBoundaryX - this.paddingLeft\n        }\n    }\n    public get rightBoundary() {\n        if (this.headerToFooter) {\n            return this.footerBoundaryX + this.paddingRight\n        } else {\n            return this.headerBoundaryX + this.paddingRight\n        }\n    }\n    public get headerBoundaryX() {\n        if (this.headerToFooter) {\n            return this.node.x + this.header.x - this.header.anchorX * this.getScaleWidth(this.header)\n        } else {\n            return this.node.x + this.header.x + (1 - this.header.anchorX) * this.getScaleWidth(this.header)\n        }\n    }\n    public get headerBoundaryY() {\n        if (this.headerToFooter) {\n            return this.node.y + this.header.y + (1 - this.header.anchorY) * this.getScaleHeight(this.header)\n        } else {\n            return this.node.y + this.header.y - this.header.anchorY * this.getScaleHeight(this.header)\n        }\n    }\n    public get footerBoundaryX() {\n        if (this.headerToFooter) {\n            return this.node.x + this.footer.x + (1 - this.footer.anchorX) * this.getScaleWidth(this.footer)\n        } else {\n            return this.node.x + this.footer.x - this.footer.anchorX * this.getScaleWidth(this.footer)\n        }\n    }\n    public get footerBoundaryY() {\n        if (this.headerToFooter) {\n            return this.node.y + this.footer.y - this.footer.anchorY * this.getScaleHeight(this.footer)\n        } else {\n            return this.node.y + this.footer.y + (1 - this.footer.anchorY) * this.getScaleHeight(this.footer)\n        }\n    }\n    public getContentSize() {\n        let size = this.getReallySize()\n        let viewSize = this.scrollView.view.getContentSize()\n        if (size.height < viewSize.height) {\n            size.height = viewSize.height\n        }\n        if (size.width < viewSize.width) {\n            size.width = viewSize.width\n        }\n        return size\n    }\n    public getReallySize() {\n        if (this.node.childrenCount == 0) return this.viewSize\n        let size = cc.Size.ZERO\n        if (this.headerToFooter) {\n            size.width = this.footerBoundaryX + -this.headerBoundaryX + this.paddingLeft + this.paddingRight\n            size.height = this.headerBoundaryY + -this.footerBoundaryY + this.paddingTop + this.paddingBottom\n        } else {\n            size.width = this.headerBoundaryX + -this.footerBoundaryX + this.paddingLeft + this.paddingRight\n            size.height = this.footerBoundaryY + -this.headerBoundaryY + this.paddingTop + this.paddingBottom\n        }\n        return size\n    }\n\n    /** 重置scrollview */\n    public resetScrollView() {\n        this.scrollView.reset()\n    }\n    public getUsedScaleValue(value: number) {\n        return this.affectedByScale ? Math.abs(value) : 1\n    }\n    /** 设置最大item数量 */\n    public async total(value: number) {\n        this.scrollView.stopAutoScroll()\n        this.scrollView.release()\n        // 初始化\n        this.initlized()\n        // 创建item\n        await this.asyncCreateItem(value)\n        let dataOffset = this.getDataOffset(value)\n        let reallyOffset = this.getReallyOffset(dataOffset)\n        this.refreshItems(value, reallyOffset)\n        this._maxItemTotal = value\n    }\n    /** 获取兄弟节点 */\n    public getBrotherNode(node: cc.Node) {\n        let index = this.getSiblingIndex(node) - 1\n        return this._children[index]\n    }\n    /** 是否是一组item中第一个 */\n    public isGroupHeader(node: cc.Node): boolean {\n        let xOry = this.getGroupHeader(node)\n        let pos = this.vertical ? cc.v2(xOry.x, 0) : cc.v2(0, xOry.y)\n        let self = this.vertical ? cc.v2(node.x, 0) : cc.v2(0, node.y)\n        return self.fuzzyEquals(pos, EPSILON)\n    }\n    /** 是否是一组item中最后一个 */\n    public isGroupFooter(node: cc.Node): boolean {\n        let xOry = this.getGroupFooter(node)\n        let pos = this.vertical ? cc.v2(xOry.x, 0) : cc.v2(0, xOry.y)\n        let self = this.vertical ? cc.v2(node.x, 0) : cc.v2(0, node.y)\n        return self.fuzzyEquals(pos, EPSILON)\n    }\n    /** 获取一组item中起始位置 */\n    public getGroupHeader(node: cc.Node): cc.Vec2 {\n        let pos = cc.Vec2.ZERO\n        if (node) {\n            if (this.vertical) {\n                if (this.headerToFooter) {\n                    pos.x = node.anchorX * this.getScaleWidth(node) + (this.paddingLeft * node.scaleX) - (this.node.anchorX * this.viewSize.width * node.scaleX)\n                    pos.y = (1 - node.anchorY) * -this.getScaleHeight(node) - this.paddingTop + (1 - this.node.anchorY) * this.viewSize.height\n                } else {\n                    pos.x = node.anchorX * this.getScaleWidth(node) + this.paddingLeft - this.node.anchorX * this.viewSize.width\n                    pos.y = node.anchorY * this.getScaleHeight(node) + this.paddingBottom - this.node.anchorY * this.viewSize.height\n                }\n            } else {\n                if (this.headerToFooter) {\n                    pos.x = node.anchorX * this.getScaleWidth(node) + this.paddingLeft - this.node.anchorX * this.viewSize.width\n                    pos.y = (1 - node.anchorY) * -node.height - this.paddingTop + (1 - this.node.anchorY) * this.viewSize.height\n                } else {\n                    pos.x = this.accommodWidth * this.node.anchorX - this.getScaleWidth(node) * (1 - node.anchorX)\n                    pos.y = (1 - node.anchorY) * -node.height - this.paddingTop + (1 - this.node.anchorY) * this.viewSize.height\n                }\n            }\n        }\n        return pos\n    }\n    /** 获取一组item中结束位置 */\n    public getGroupFooter(node: cc.Node): cc.Vec2 {\n        let pos = cc.Vec2.ZERO\n        if (node) {\n            if (this.vertical) {\n                pos.x = (this.accommodWidth + this.paddingLeft) * this.node.anchorX - (this.getScaleWidth(node) * (1 - node.anchorX) + this.node.anchorX * this.paddingRight)\n                pos.y = node.y\n            } else {\n                pos.x = node.x\n                pos.y = -((this.accommodHeight + this.paddingTop) * this.node.anchorY - this.getScaleHeight(node) * node.anchorY) + (1 - node.anchorY) * this.paddingBottom\n            }\n        }\n        return pos\n    }\n    /** 获取一组item中 node 相对 relative 右偏移量 */\n    public getGroupRightX(node: cc.Node, relative: cc.Node) {\n        if (!node || !relative) return this.getGroupHeader(node).x\n        let prevWidth = relative.x + this.getScaleWidth(relative) * (1 - relative.anchorX)\n        let selfWidth = this.getScaleWidth(node) * node.anchorX\n        return prevWidth + selfWidth + this.spacing.x\n    }\n    /** 获取一组item中 node 相对 relative 左偏移量 */\n    public getGroupLeftX(node: cc.Node, relative: cc.Node) {\n        if (!node || !relative) return this.getGroupFooter(node).x\n        let prevWidth = relative.x - this.getScaleWidth(relative) * relative.anchorX\n        let selfWidth = this.getScaleWidth(node) * (1 - node.anchorX)\n        return prevWidth - selfWidth - this.spacing.x\n    }\n    /** 获取一组item中 node 相对 relative 下偏移量 */\n    public getGroupBottomY(node: cc.Node, relative: cc.Node) {\n        let prevHeight = relative.y - this.getScaleHeight(relative) * relative.anchorY\n        let selfHeight = this.getScaleHeight(node) * (1 - node.anchorY)\n        return prevHeight - selfHeight - this.spacing.y\n    }\n    /** 获取一组item中 node 相对 relative 上偏移量 */\n    public getGroupTopY(node: cc.Node, relative: cc.Node) {\n        let prevHeight = relative.y + this.getScaleHeight(relative) * (1 - relative.anchorY)\n        let selfHeight = this.getScaleHeight(node) * node.anchorY\n        return prevHeight + selfHeight + this.spacing.y\n    }\n    /** 判断给定的 node 乘以 multiple 倍数后 是否超出了头部边框 */\n    public isOutOfBoundaryHeader(node: cc.Node, multiple: number = 1.5) {\n        let width = node.width * this.getUsedScaleValue(node.scaleX) * multiple\n        let height = -node.height * this.getUsedScaleValue(node.scaleY) * multiple\n        let offset = this.scrollView.getHowMuchOutOfBoundary(cc.v2(width, height))\n        return offset\n    }\n    /** 判断给定的 node 乘以 multiple 倍数后 是否超出了尾部部边框 */\n    public isOutOfBoundaryFooter(node: cc.Node, multiple: number = 1.5) {\n        let width = -node.width * this.getUsedScaleValue(node.scaleX) * multiple\n        let height = node.height * this.getUsedScaleValue(node.scaleY) * multiple\n        let offset = this.scrollView.getHowMuchOutOfBoundary(cc.v2(width, height))\n        return offset\n    }\n    /** 滚动到头部 */\n    public scrollToHeader(timeInSecond?: number, attenuated?: boolean) {\n        this.scrollToHeaderOrFooter = timeInSecond > 0\n        this.scrollView.stopAutoScroll()\n        this.resetToHeader()\n        if (this.headerToFooter) {\n            if (this.vertical) {\n                this.scrollView.scrollToTop(timeInSecond, attenuated)\n            } else {\n                this.scrollView.scrollToLeft(timeInSecond, attenuated)\n            }\n        } else {\n            if (this.vertical) {\n                this.scrollView.scrollToBottom(timeInSecond, attenuated)\n            } else {\n                this.scrollView.scrollToRight(timeInSecond, attenuated)\n            }\n        }\n    }\n    /** 滚动到尾部 */\n    public scrollToFooter(timeInSecond?: number, attenuated?: boolean) {\n        this.scrollToHeaderOrFooter = timeInSecond > 0\n        this.scrollView.stopAutoScroll()\n        this.resetToFooter()\n        if (this.headerToFooter) {\n            if (this.vertical) {\n                this.scrollView.scrollToBottom(timeInSecond, attenuated)\n            } else {\n                this.scrollView.scrollToRight(timeInSecond, attenuated)\n            }\n        } else {\n            if (this.vertical) {\n                this.scrollView.scrollToTop(timeInSecond, attenuated)\n            } else {\n                this.scrollView.scrollToLeft(timeInSecond, attenuated)\n            }\n        }\n    }\n    /** 通知给定的node刷新数据 */\n    public notifyRefreshItem(target: cc.Node) {\n        cc.Component.EventHandler.emitEvents(this.refreshItemEvents, target, target['index'])\n    }\n    /** 获取节点索引 */\n    public getSiblingIndex(node: cc.Node) {\n        return this._children.indexOf(node)\n    }\n    /** 自定义索引方法 引擎的方法有延迟 */\n    public setSiblingIndex(node: cc.Node, index: number) {\n        index = index !== -1 ? index : this._children.length - 1\n        var oldIndex = this._children.indexOf(node)\n        if (index !== oldIndex) {\n            this._children.splice(oldIndex, 1)\n            if (index < this._children.length) {\n                this._children.splice(index, 0, node)\n            }\n            else {\n                this._children.push(node)\n            }\n            this.node.emit(UIChangeBrotherEvnet)\n        }\n    }\n    onLoad() {\n        this.initlized()\n    }\n    /** 初始化 */\n    private initlized() {\n        if (this._isinited) return\n        this.node.anchorX = 0.5\n        this.node.anchorY = 0.5\n        this.node.setContentSize(this.viewSize)\n        this.node.getContentSize = this.getContentSize.bind(this)\n        this.node.setPosition(cc.Vec2.ZERO)\n        this.column = this.column < 1 ? 1 : this.column\n        this.node.on(cc.Node.EventType.POSITION_CHANGED, () => {\n            let flag = this.isScrollToFooter\n            if (this.headerToFooter) {\n                flag ? this.footerToHeaderWatchChilds(flag) : this.headerToFooterWatchChilds(flag)\n            } else {\n                flag ? this.headerToFooterWatchChilds(flag) : this.footerToHeaderWatchChilds(flag)\n            }\n            if (this.vertical && 0 == this.node.y || this.horizontal && 0 == this.node.x) {\n                this.header.setPosition(this.getGroupHeader(this.header))\n                cc.error(\"充值了哦 归为\")\n            }\n        }, this)\n        this._isinited = true\n    }\n    /** 获取缩放宽度 */\n    private getScaleWidth(node: cc.Node): number {\n        return node.width * this.getUsedScaleValue(node.scaleX)\n    }\n    /** 获取缩放高度 */\n    private getScaleHeight(node: cc.Node): number {\n        return node.height * this.getUsedScaleValue(node.scaleY)\n    }\n    /** 简单的浅拷贝 */\n    private getTempChildren() {\n        let list = []\n        for (let i = 0; i < this._children.length; i++) {\n            const child = this._children[i];\n            list.push(child)\n        }\n        return list\n    }\n    /** 正序更新item */\n    private headerToFooterWatchChilds(flag) {\n        let children = this.getTempChildren()\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            child['watchSelf'](flag)\n        }\n    }\n    /** 倒序更新item */\n    private footerToHeaderWatchChilds(flag) {\n        let children = this.getTempChildren()\n        for (let i = children.length - 1; i >= 0; i--) {\n            const child = children[i];\n            child['watchSelf'](flag)\n        }\n    }\n    /** 当数据增加、减少时 获取数据偏移 */\n    private getDataOffset(value: number) {\n        // 返回删除数据偏移\n        if (this.footer && this.footer['index'] + 1 >= value) {\n            let offset = this.footer['index'] + 1 - value\n            return offset == 0 ? 0 : -offset\n        }\n        // 返回增加数据偏移\n        if (this._maxItemTotal == 0 || value < this._maxItemTotal || this._maxItemTotal < this._maxPrefabTotal) return 0\n        if (this.isGroupFooter(this.footer)) return 0\n        return value - this._maxItemTotal\n    }\n    /** 当数据增加、减少时 获取节点偏移量 */\n    private getReallyOffset(dataOffset: number) {\n        if (!this.header) return 0\n        if (dataOffset > 0) { // 代表增加item 表格模式下 通过偏移头部来让下方填满 填满后停止偏移\n            for (let i = 0; i < dataOffset; i++) {\n                if (this.isGroupFooter(this.footer)) return i //返回真实的偏移量\n                // 此时如果header 已经是一组item中最后一个时 向下位移 并 设置到一组item的起始位置   \n                let pos = this.header.getPosition()\n                if (this.vertical) { // 垂直滑动时\n                    if (this.isGroupFooter(this.header)) {\n                        if (this.headerToFooter) {\n                            pos.y = this.getGroupBottomY(this.header, this.header)\n                        } else {\n                            pos.y = this.getGroupTopY(this.header, this.header)\n                        }\n                        pos.x = this.getGroupHeader(this.header).x\n                    } else {\n                        pos.x = this.getGroupRightX(this.header, this.header) // 向右位移\n                    }\n                } else { // 水平滑动时\n                    if (this.isGroupFooter(this.header)) {\n                        if (this.headerToFooter) {\n                            pos.x = this.getGroupRightX(this.header, this.header)\n                        } else {\n                            pos.x = this.getGroupLeftX(this.header, this.header)\n                        }\n                        pos.y = this.getGroupHeader(this.header).y\n                    } else {\n\n                        pos.y = this.getGroupBottomY(this.header, this.header) // 向下位移\n                    }\n                }\n                this.header.setPosition(pos)\n            }\n            return dataOffset\n        }\n        // 代表减少了item 计算偏移量\n        for (let i = 0; i < Math.abs(dataOffset); i++) {\n            let pos = cc.Vec2.ZERO\n            if (this.vertical) {\n                if (this.isGroupHeader(this.header)) {\n                    pos.x = this.getGroupFooter(this.header).x\n                    if (this.headerToFooter) {\n                        pos.y = this.getGroupTopY(this.header, this.header)\n                    } else {\n                        pos.y = this.getGroupBottomY(this.header, this.header)\n                    }\n                } else {\n                    pos.x = this.getGroupLeftX(this.header, this.header)\n                    pos.y = this.header.y\n                }\n            } else {\n                if (this.isGroupHeader(this.header)) {\n                    pos.y = this.getGroupFooter(this.header).y\n                    if (this.headerToFooter) {\n                        pos.x = this.getGroupLeftX(this.header, this.header)\n                    } else {\n                        pos.x = this.getGroupRightX(this.header, this.header)\n                    }\n                } else {\n                    pos.y = this.getGroupTopY(this.header, this.header)\n                    pos.x = this.header.x\n                }\n            }\n            this.header.setPosition(pos)\n        }\n        this.scrollView.calculateBoundary()\n        return dataOffset\n    }\n    /** 刷新所有item数据 根据当前item的 index 刷新 */\n    private refreshItems(value: number, offset: number = 0) {\n        if (!this.header) return\n        let startIndex = this.header['index'] - 1 + offset\n        for (let i = 0; i < this._children.length; i++) {\n            const child = this._children[i];\n            startIndex++\n            if (startIndex > value - 1) {\n                startIndex = 0\n            } else if (startIndex < 0) {\n                startIndex = value - 1\n            }\n            child['index'] = startIndex\n            this.notifyRefreshItem(child)\n        }\n    }\n    /** 从头部到尾部重置数据 */\n    private resetToHeader() {\n        for (let i = 0; i < this._children.length; i++) {\n            const child = this._children[i];\n            child['index'] = i\n            this.notifyRefreshItem(child)\n        }\n        if (!this.headerLoop && !this.footerLoop) {\n            this.header?.setPosition(this.getGroupHeader(this.header))\n        } else if (!this.scrollToHeaderOrFooter) {\n            this.header?.setPosition(this.getGroupHeader(this.header))\n        }\n    }\n    /** 从尾部到头部重置数据 */\n    private resetToFooter() {\n        let index = this._maxItemTotal\n        for (let i = this._children.length - 1; i >= 0; i--) {\n            var child = this._children[i]\n            child['index'] = --index\n            this.notifyRefreshItem(child)\n        }\n    }\n    /** 分帧创建item */\n    private async asyncCreateItem(value: number) {\n        this._gener?.return(\"\")\n        if (this.node.childrenCount > value) {\n            let length = this.node.childrenCount - value\n            for (let i = 0; i < length; i++) {\n                var child = this.footer\n                this.remChild(child)\n                child.destroy()\n                this.node.removeChild(child)\n            }\n            if (this.header) {\n                let pos = this.getGroupHeader(this.header)\n                if (this.vertical) {\n                    this.header.x = pos.x\n                } else {\n                    this.header.y = pos.y\n                }\n            }\n            return\n        }\n        if (this._maxPrefabTotal > 0 && this._maxPrefabTotal == this.node.childrenCount) return\n\n        let total = value - this.node.childrenCount\n        this._gener = this.getGeneratorLength(total, () => {\n            let child = cc.instantiate(this.prefab)\n            child['index'] = this.node.childrenCount\n            this.addChild(child)\n            let spuerItem = child.getComponent(UISpuerItem) || child.addComponent(UISpuerItem)\n            this.node.addChild(child)\n            spuerItem.init(this)\n            if (this.node.childrenCount == 1) {\n                let pos = this.getGroupHeader(this.header)\n                this.header.setPosition(pos)\n                this.scrollView.calculateBoundary()\n            }\n            let selfHorW, viewHorW\n            if (this.vertical) {\n                selfHorW = this.getReallySize().height\n                viewHorW = this.viewSize.height\n            } else {\n                selfHorW = this.getReallySize().width\n                viewHorW = this.viewSize.width\n            }\n            if (selfHorW >= viewHorW * this.multiple && this.isGroupFooter(this.footer)) {\n                this._maxPrefabTotal = this.node.childrenCount //固定item数量 不在继续创建\n                return false\n            }\n            return true\n        })\n        await this.exeGenerator(this._gener, 10)\n    }\n    /** 同步添加本地变量 children 并发送 UIChangeBrotherEvnet 通知*/\n    private addChild(node: cc.Node) {\n        this._children.push(node)\n        this.node.emit(UIChangeBrotherEvnet)\n    }\n    /** 同步移除本地变量 children 并发送 UIChangeBrotherEvnet 通知 */\n    private remChild(node: cc.Node) {\n        let index = this._children.indexOf(node)\n        if (index != -1) {\n            this._children.splice(index, 1)\n        }\n        this.node.emit(UIChangeBrotherEvnet)\n    }\n    /** 分帧加载 */\n    private * getGeneratorLength(length: number, callback: Function, ...params: any): Generator {\n        for (let i = 0; i < length; i++) {\n            let result = callback(i, ...params)\n            if (result) {\n                yield\n            } else {\n                return\n            }\n        }\n    }\n    /** 分帧执行 */\n    private exeGenerator(generator: Generator, duration: number) {\n        return new Promise((resolve, reject) => {\n            let gen = generator\n            let execute = () => {\n                let startTime = new Date().getTime()\n                for (let iter = gen.next(); ; iter = gen.next()) {\n                    if (iter == null || iter.done) {\n                        resolve()\n                        return\n                    }\n                    if (new Date().getTime() - startTime > duration) {\n                        setTimeout(() => execute(), cc.director.getDeltaTime() * 1000)\n                        return\n                    }\n                }\n            }\n            execute()\n        })\n    }\n}\n"]}